from rest_framework.serializers import ModelSerializerfrom rest_framework.viewsets import ModelViewSetfrom rest_framework.permissions import IsAuthenticatedfrom service.models.service import Servicefrom user.models import Agent, Userfrom utils.custom_pagination import CustomPaginationclass ServiceSerializer(ModelSerializer):    class Meta:        model = Service        fields = '__all__'        read_only_fields = ['owner']class ServiceViewSet(ModelViewSet):    """    Name: Service CRUD API.    Desc: API endpoint that allows services to be viewed or edited.    Method: GET, POST, PUT, DELETE    URL: /api/v1/service/    """    queryset = Service.objects.all()    serializer_class = ServiceSerializer    permission_classes = [IsAuthenticated, ]    pagination_class = CustomPagination    def get_queryset(self):        user = User.objects.get(id=self.request.user.id)        agent = Agent.objects.get(agent=user)        services = agent.service_owner.all()        return services